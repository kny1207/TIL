# 191209 Azure

e-ncs.kr <== 회원가입 [4차산업 선도인력] 빅데이터(딥러닝) 활용 AI 설계(C반)

[Azure sponsorships](www.microsoftazuresponsorships.com/) Azure Pass 사용내역

### PPT

#### Network

: 넓은 의미로 컴퓨터 들의 연결, 컴퓨터를 연결하는 것. 정보를 교환하도록 하는 것(=네트워킹). 한마디로 '소통', 컴퓨터를 연결해서 네트워크로 정보를 빠르게 교환하도록.

##### 네트워크의 이점

: 하드웨어 공유 가능, 네트워크의 '프린터'라는 장비(=하드웨어)를 하나로 네트워크 공유하는 컴퓨터들이 공유해서 사용할 수 있다. == 하나의 하드웨어로 공유해서 사용 가능

파일을 공유할 수 있다 

* peer to peer: 모든 네트워크 장치들이 동일한 레벨로 연결하는 것.  클라이언트도 되고 서버도 되는 것.  작은 규모의 네트워크 일 때.
* Client/Server: 대규모 네트워크일 때, Server를 별도로 두는 것. 서버를 하나 두고 공유할 회사 내 파일들을 서버 장비에 두고 client(사용자)들이 서버에 접속해서 사용한다.  주로 기업에 직원이 많을 때. 기업 내 사용자들이 소통을 빨리 해 업무를 신속하게 처리할 수 있도록 하나의 서버를 별개로 둔다.
  * FTP, SQL 등
  * Client = request, 요청하는 쪽
  * Server = Response, client가 요청한 것에 응답해주는



#### 스위치

: 네트워크를 연결하게 해주는. 컴퓨터의 랜 케이블 > 스위치 케이블로 연결. 스위치는 포트가 많아서 많은 컴퓨터들을 연결할 수 있다.  스위치는 '라우터'라는 장비로 연결되어 있다. 라우터 장비에서 스위치로 연결. 라우터는 스위치에 비해 포트가 적다. 라우터와 스위치 연결 - 스위치와 컴퓨터 연결!

* Local-area networks(=LAN) == Private Network

  :회사의 네트워크. 회사에서 스위치라는 장비로 직원들 컴퓨터를 연결한다. 라우터장비까지 포함. 하나의 회사 네트워크(=private 망)가 라우터로 연결, 그 라우터끼리 다른 회사끼리. 회사네트워크망은 '라우터'까지.
  * 라우터 == Gateway: 다른 회사에서 우리 회사로 연결되기 위해서 라우터 장비를 반드시 거쳐야 한다. 외부 데이터가 내부에 들어오기 위해서 라우터(=Gateway)망을 반드시 거쳐야 한다. 라우터장비에 할당된 ip 주소를 gateway ip주소이다. 외부와 연결하기 위해 꼭 필요! 서버에 gateway를 없애버리면 그 서버는 내부에만 데이터를 보내고 외부망하고는 데이터를 주고 받을 수 없다. 기업의 보안을 강화하기 위해 서버의 게이트 ip를 빼버리기도 한다. gateway ip가 있어야 인터넷망으로 데이터를 보낼 수 있다. 외부 네트워크와 내부 네트워크의 '관문' 역할. Gateway는 장비가 아니다. 관문.
  * IP: ZP/Subnet/Gateway

* Wide-area networks(=WAN) == Public Network

  : 인터넷망이라고도 한다. 회사망들을 다 연결하는. 라우터를 벗어나면서부터 WAN에 포함된다.



#### OSI 7 Layer

: 꼭 알아둬야!  표준. 다른 장비들과도 연결하기 위해서. 회사에서 만든 장비가 다른 회사 장비와 연결이 안돼. 프로토콜이 달라서 => osi 7 표준을 만들어서 다른 장비들과도 서로 연결할 수 있도록 한 것! 7개 계층을 표준으로 만든 것이다. 컴퓨터끼리 연결이 안 될때, 어느 계층에서 문제가 생겼는지 파악해야 한다.

TCP/IP: 컴퓨터끼리 

* Layer 1: Physical layer
  
  *  케이블 포함
  
* Layer 2: Data link
  
  *  스위치 장비 포함. 스위치는 일반적으로 Layer2에서 작동한다. 스위치가 라우터 장비를 다 가지고 있어 라우터 기능과 방화벽 기능을 다 가지고 있다. 스위치가 라우터를 가지고 있어 라우터 기능을 대신하기도 한다. 이런 고급 기능을 가진 스위치를 L4 스위치라고 하는데 가격이 비싸고 기능이 많다. MAC 주소. LAN카드에 할당된 고유 번호이다. 실제 데이터를 주고 받을 때는 MAC Address를 알아야 한다.
  
* Layer 3: Network
  
  *  라우터 장비 layer 3에 포함. 누구와 통신할지 목적지를 찾을 때 사용. 주소(IP)를 찾을 때. 
  
* Layer 4:Transport
  * *로드밸런서*, 데이터를 전송해주는 계층. 
    * TCP:신뢰성 가지는 전송으로 데이터를 보내고 잘 받았는지 안 받았는지 확인을 한다. 데이터를 보낸 후 잘 받았는지 확인-응답하는 작업을 3번한다. '3 way handshake'라고도 한다. 정확한 데이터 전송
    * UDP: 비신뢰성 전송. 데이터 잘 받았는지 안 받았는지 확인 안한다. 데이터 보내고 끝나는. 속도는 UDP가 더 빠르다. 동영상 스트리밍할 때 주로 사용.
  
* Layer 5: Session
  
  * 연결 설정, 데이터를 보내는 쪽과 받는 사용자 간에 연결 설정하는 것.
  
* Layer 6: Presentation
  
  * 데이터를 암호화하는 것. 네트워크로 데이터를 보낼 때는 암호화하고 압축해야 한다.
  
* Layer 7: Application
  
  * DNS, www 등과 같이 사용자가 직접 보는 웹서비스, 사용자와 컴퓨터가 대화하는 계층. *로드밸런서* 
  
    
  
* Load Balancer: 부하 분산 처리. clent 접속 사용자 VM을 부하 분산 처리해준다. 

  * Azure(later 4): 같은 Data center에 있는 VM끼리 부하분산처리해준다.

  * application gateway(layer 7): 다른 데이터 센터에 있는 VM들과도 분산처리해준다

  * traffic manager(DNS-based)

    

#### Encapuslation/ De-Encapsulation

Application > Presentation: 암호화 + 압축

Presentation > Session: 연결 설정 

Session > Transport: 데이터 덩어리 잘게 쪼개서 번호를 붙인다

Transport > Network: 여기서 데이터를 segments라고 한다. 쪼갠 데이터 앞에 헤더값 붙여준다. Ex. TCP 

Network > Data link: 여기서 데이터 덩어리는 패킷이라고 한다. 보내는 주소와 받는 주소를 추가한다.

Data link > Physical: 여기선 데이터를 Frame이라고 부른다. 패킷에 Mac 주소 헤더를 추가해준다.

Physical: 디지털 데이터를 전기 신호로 바꿔서 네트워크 케이블로 보낸다. 0이냐 1이냐. LAN = 디지털 신호를 전기 신호로 바꿔준다.

B 컴퓨터   <------------    A 컴퓨터



* Application - Presentation - Session까지는 Data
* Transport에서 할당된 데이터 자체를 Segments라고 한다
* Network 계층에서 보내는 사람/ 받는 사람 IP가 추가된다. 이때 데이터를 Packets라고 한다. 헤드 2개
* Data link에서 Packets에 Mac 주소 헤드 추가된다. 이때 데이터를 Frames이라고 한다. 헤드 3개
* Physical에서 Frames를 전기신호로 바꿔주는데 이때 데이터 덩어리를 Bits라고 한다.
  * 같은 데이터 덩어리지만 각 계층에 따라 헤드에 따라 불러지는 이름이 다르다.



#### TCP/IP Protocal Stack

TCP/IP가 먼저 나오고 OSI 7 Layer Model이 기준으로 나왔다. TCP/IP를 더 분리시키고 세분화 시킨. 인터넷 하는 대부분의 서비스가 TCP/IP로 되어있다. 



#### Network 주소와 Host 주소

* IP Address: 인터넷 상에서 목적지를 찾는 주소 체계, 32Bits로 구성(약 43억개). IP주소에는 V4(=32Bits)와 V6(128Bits)가 있다. 전세계 인터넷에는 IP가 부여되어 있어야 한다. 43억개로 IP주소가 모자라 V6(128Bits)가 나오게 된 것. 전세계 사람, 동물, 식물에게 ip를 부여해도 남을 만큼 엄청난 수이다.

  * 8.8.8.8			8bit = 옥텟

    11111111 = 255, 최고 큰 수는 255까지만 들어갈 수 있다. 

    * 1bit = 2의 1승 = 2가지 = 0과 1
    
    * 2 bit = 2의 2승 = 4가지 표현 = 00/01/10/11
    
    * 3 bit = 2의 3승 = 8가지 표현
    
    * 32bit = 2의 32승 = 43억개 ip만들 수 있다.
    
    * 128bits = 2의 128승 = 10의 36승 = 340 언데실리온
    
      
  
* IP = Network ID(우편번호, 회사) + Host ID(번지, 회사내의 각각 장치)

  * 네트워크 아이디는 ISP에서 부여, 호스트 아이디는 각 회사 네트워크 관리자가 임의로 부여한다.
  * 네트워크 아이디로 회사 라우터까지 찾아 들어간다. 호스트 아이디로 회사 내의 각 직원들 데스크까지 찾아 간다.

* Subnet Mask: Network ID를 식별하기 위해서 넣는 것. CIDR로 표현할 때 Subnet Mask /x로 나오는만큼 1로 채워준다. 

  

* A Class: N.H.H.H            255.0.0.0    : 첫 번째 비트가 0으로 고정

  **0**0000000.00000000.00000000.00000000		**1.0.0.0**

  **0**1111111.11111111.11111111.11111111		**126.255.255.255**

  * Network 수: 128(2^7) - 2(0,127): 1부터 126까지 사용. 

    * A Class만 네트워크 2개를 빼준다. A Class 중 특수한 Network

      * 0: 네트워크 식벽할 때 사용

      * **127**: IPv4 LoopBack IP(모든 컴퓨터에 셋팅되어 있음) 127로 시작하는 주소는 Encapsulaion으로 LAN카드까지 갔다가 다시 내 컴퓨터로 돌아온다. 테스트 목적으로 각 컴퓨터에 구성되어 있는 IP로 이것을 LoopBack IP라고 한다. 127로 시작하는 IP는 내 컴퓨터, 자신을 뜻함

        - Test용으로 사용, 예 Web Server

          (서버 구동하려면 반드시 컴퓨터에 IP 세팅되어 있어야)

        - IPv6 LoopBack IP ( ::1)

  * Host 수: 16,777,216(2^24) - 2 = 16,777,214          

* B Class: N.N.H.H            255.255.0.0

  **10**000000.00000000.00000000.00000000		**128.0.0.0**

  **10**111111.11111111.11111111.11111111		**191.255.255.255**

  * Network 수: 2^14 = 16,384
  * Host 수: 2^16 - 2  = 65,534

* C Class: N.N.N.H            255.255.255.0

  **110**00000.00000000.00000000.00000000		**192.0.0.0**

  **110**11111.11111111.11111111.11111111		**223.255.255.255**

  * Network 수: 2^21 = 2,097,152
  * Host 수: 2^8 - 2 = 254

* 맨 앞 숫자를 보고 Class를 구분할 수 있다.

---

**호스트 수는 항상 2(모든값 0인 경우 + 모든 값 1인 경우)를 빼준다.**

Host의 모든 값이 0인 경우 : Network ID를 식별

Host의 모든 값이 1인 경우 : Broadast IP(Broadcast Data 전송시 사용)

---

* D Class: 멀티 캐스트 데이터 전송시 사용			**224.0.0.0 ~ 239.255.255.255**
* E Class: 예약 IP. 중요한 곳에 사용하기 위해 남겨둔 IP, 군사용

---



* CIDR(Classless Inter-Domain Routing) 표기법

  : Class로 IP를 부여해 줄 경우 IP 낭비가 굉장히 심하다.

  * Class: 10진법으로 표기 > IP 낭비가 너무 심해. 회사에서 IP가 2000개만 필요할 경우 B Class를 선택해야 하므로 63,000개 정도가 낭비된다.

  * CIDR: 2진법으로 표기 > IP를 최적화해서 표현 가능. IP주소 낭비 막는다.

      Ex. 192.168.10.0/24(=subnet mask)		192.168.10.0/25

      /26	11111111.11111111.11111111.11000000(=255.255.255.192)

     (subnet mask가 1들어가는 곳이 network id, 0들어가는 곳이 host id)

    => subnet mask가 26이 들어가면 Host는 62(2^6 - 2)개 가능.

  * 2000개의 Host가 필요할 때 알맞은 Subnet Mask를 CIDR 표기법으로 표기

  ​         /21    11111111.11111111.11111000.00000000(=255.255.248.0)

  : 21비트까지를 네트워크로 보고 나머지를 호스트로 보면 된다.



* IP 주소보고 정보 알 수 있어야.
  * **192.168.10.50/24** (=CIDR 표기법)

    : 각 십진법 수를 이진법 수로 바꿔줘야(계산기 사용) 11000000.10101000.00001010.00110010(=IP)

    11111111.11111111.11111111.00000000(=Subnet Mask)      **AND 연산**

    ---

    **11000000.10101000.00001010**.00000000 <== Network IP

    (IP와 SubnetMask AND 연산으로 찾을 수 있다)

    11000000.10101000.00001010.11111111 <== Broadcast

    * Network IP: 192.168.10.0
    * Broadcast IP: 192.168.10.255
    * Host IP 범위: 192.168.10.1 ~ 192.168.10.254
    * Subnet Mask: 255.255.255.0

    

  * **192.168.10.130/25**

    11000000.10101000.00001010.10000010 (=IP)

    11111111.11111111.11111111.10000000 (=SubnetMask)  **AND연산**

    ---

    11000000.10101000.00001010.10000000 <== Network IP

    11000000.10101000.00001010.11111111 <== Broadcast

    * Network IP: 192.168.10.128

    * Broadcast IP: 192.168.10.255

    * Host IP 범위:  192.168.10.1 ~ 192.168.10.126

    * Subnet Mask: 255.255.255.128

    * Host 수: 124(2^7 - 2)

      

  * 172.16.20.10/17

    10101100.00010000.00010100.00001010 (=IP)

    11111111.11111111.10000000.00000000 (=SubnetMask) **AND 연산**

    ---

    10101100.00010000.00010100.00000000 <== Network IP

    10101100.00010000.01111111.11111111 <== Broadcast

    * Network IP: 172.16.20.0
    * Broadcast IP: 172.16.127.255
    * Host IP 범위:  172.16.20.1 ~ 172.16.127.255
    * Subnet Mask: 255.255.128.0
    * Host 수: 32,766(2^13 - 2)

  

* 데이터 전송 방식: Destination IP에 부여하는 Class가 상황에 따라 다르다.

  * Unicast	 	1 : 1 통신
  
  * Multicast      1 : 그룹 통신 ex) 인터넷 방송을 unicast로 통신하면 방송하는 A 컴퓨터가 다운된다. multicast를 통해서 하나의 데이터를 만명에게 동시에 뿌려주는 것이다. 접속한(특정) ip에만 D Class를 부여해서 데이터를 전송한다.
  
  * Broadcast     1 : 모든 통신(범위는 라우터 까지) 
  
    * HUB라는 장비가 포트에 들어온 데이터를 hub에 있는 모든 포트에 뿌린다. 이것을 '블로딩'이라고 한다. 포트에 연결된 각각의 컴퓨터들은 LAM카드에서 받고 CPU까지 올려서 처리한다.  자신과 관련없는 건 각 컴퓨터가 discard하여 처리한다. 
  
      Broadcast는 일단 그 네트워크에 있는 모든 컴퓨터에 데이터를 뿌린다. > broadcast는 라우터장비까지만 연결된다 == Broadcast domain
  
    |      S(send) IP       | 패     |
    | :-------------------: | ------ |
    | **D(destination) IP** | **킷** |
  
    
  
  
  
  http://korean-daeddo.blogspot.com/2016/01/blog-post_26.html 
  
  